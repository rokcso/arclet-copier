<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title data-i18n="optionsTitle">Arclet Copier - 设置</title>
        <link rel="stylesheet" href="options.css" />
    </head>
    <body>
        <div class="container">
            <div class="header">
                <img
                    src="../assets/icons/icon256.png"
                    alt="Arclet Copier"
                    class="header-icon"
                />
                <div class="header-content">
                    <h1 data-i18n="optionsTitle">Arclet Copier - 设置</h1>
                    <span class="version" id="version">v1.3.5</span>
                </div>
            </div>

            <div class="settings-content">
                <div class="settings-section">
                    <h2 data-i18n="generalSettings">常规设置</h2>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span
                                class="setting-label"
                                data-i18n="shortUrlService"
                                >短链服务</span
                            >
                            <span
                                class="setting-description"
                                data-i18n="shortUrlServiceDesc"
                                >选择生成短链时使用的服务</span
                            >
                        </div>
                        <select
                            id="shortUrlServiceSelect"
                            class="setting-control"
                        >
                            <option value="isgd" data-i18n="serviceIsgd">
                                is.gd
                            </option>
                            <option value="tinyurl" data-i18n="serviceTinyurl">
                                TinyURL
                            </option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span
                                class="setting-label"
                                data-i18n="chromeNotifications"
                                >Chrome 通知</span
                            >
                            <span
                                class="setting-description"
                                data-i18n="chromeNotificationsDesc"
                                >启用后将显示操作完成通知</span
                            >
                        </div>
                        <div class="setting-control">
                            <input
                                type="checkbox"
                                id="notificationCheckbox"
                                class="toggle-checkbox"
                            />
                            <label
                                for="notificationCheckbox"
                                class="toggle-label"
                            >
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-label" data-i18n="language"
                                >语言</span
                            >
                            <span
                                class="setting-description"
                                data-i18n="languageDesc"
                                >选择界面显示语言</span
                            >
                        </div>
                        <select id="languageSelect" class="setting-control">
                            <option value="zh_CN" data-i18n="languageZh">
                                简体中文
                            </option>
                            <option value="en" data-i18n="languageEn">
                                English
                            </option>
                            <option value="es" data-i18n="languageEs">
                                Español
                            </option>
                            <option value="ja" data-i18n="languageJa">
                                日本語
                            </option>
                            <option value="de" data-i18n="languageDe">
                                Deutsch
                            </option>
                            <option value="fr" data-i18n="languageFr">
                                Français
                            </option>
                            <option value="pt" data-i18n="languagePt">
                                Português
                            </option>
                            <option value="ru" data-i18n="languageRu">
                                Русский
                            </option>
                            <option value="ko" data-i18n="languageKo">
                                한국어
                            </option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h2 data-i18n="appearanceSettings">外观设置</h2>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-label" data-i18n="appearance"
                                >外观</span
                            >
                            <span
                                class="setting-description"
                                data-i18n="appearanceDesc"
                                >选择界面主题模式</span
                            >
                        </div>
                        <div class="setting-control">
                            <div
                                class="three-way-switch"
                                id="appearanceSwitch"
                                data-value="system"
                            >
                                <div
                                    class="switch-option"
                                    data-i18n="appearanceSystem"
                                >
                                    跟随系统
                                </div>
                                <div
                                    class="switch-option"
                                    data-i18n="appearanceLight"
                                >
                                    明亮
                                </div>
                                <div
                                    class="switch-option"
                                    data-i18n="appearanceDark"
                                >
                                    黑暗
                                </div>
                                <div class="switch-slider"></div>
                            </div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-label" data-i18n="themeColor"
                                >主题色</span
                            >
                            <span
                                class="setting-description"
                                data-i18n="themeColorDesc"
                                >选择界面主题颜色</span
                            >
                        </div>
                        <div class="setting-control">
                            <div class="color-picker" id="colorPicker">
                                <div
                                    class="color-option"
                                    data-color="orange"
                                    style="
                                        background: linear-gradient(
                                            135deg,
                                            #f97316,
                                            #ea580c
                                        );
                                    "
                                ></div>
                                <div
                                    class="color-option"
                                    data-color="yellow"
                                    style="
                                        background: linear-gradient(
                                            135deg,
                                            #eab308,
                                            #ca8a04
                                        );
                                    "
                                ></div>
                                <div
                                    class="color-option"
                                    data-color="green"
                                    style="
                                        background: linear-gradient(
                                            135deg,
                                            #22c55e,
                                            #16a34a
                                        );
                                    "
                                ></div>
                                <div
                                    class="color-option"
                                    data-color="blue"
                                    style="
                                        background: linear-gradient(
                                            135deg,
                                            #3b82f6,
                                            #1d4ed8
                                        );
                                    "
                                ></div>
                                <div
                                    class="color-option"
                                    data-color="purple"
                                    style="
                                        background: linear-gradient(
                                            135deg,
                                            #8b5cf6,
                                            #7c3aed
                                        );
                                    "
                                ></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h2 data-i18n="copyTemplatesSection">复制格式模板</h2>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span
                                class="setting-label"
                                data-i18n="customTemplates"
                                >自定义模板</span
                            >
                            <span
                                class="setting-description"
                                data-i18n="customTemplatesDesc"
                                >创建和管理您的自定义复制格式模板</span
                            >
                        </div>
                    </div>

                    <!-- 模板列表 -->
                    <div class="template-list" id="templateList">
                        <!-- 模板项将通过 JavaScript 动态生成 -->
                    </div>

                    <!-- 添加模板按钮 -->
                    <div class="template-actions">
                        <button
                            class="template-add-btn"
                            id="addTemplateBtn"
                            data-i18n="addTemplate"
                        >
                            <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            创建新模板
                        </button>
                    </div>
                </div>

                <!-- 模板编辑器模态框 -->
                <div class="template-modal" id="templateModal">
                    <div class="template-modal-content">
                        <div class="template-modal-header">
                            <h3
                                id="templateModalTitle"
                                data-i18n="editTemplate"
                            >
                                编辑模板
                            </h3>
                            <button
                                class="template-modal-close"
                                id="templateModalClose"
                            >
                                <svg
                                    width="16"
                                    height="16"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                >
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                        </div>

                        <div class="template-modal-body">
                            <!-- 基本信息 -->
                            <div class="template-form-group">
                                <label
                                    for="templateName"
                                    data-i18n="templateName"
                                    >模板名称</label
                                >
                                <input
                                    type="text"
                                    id="templateName"
                                    placeholder="输入模板名称..."
                                />
                            </div>

                            <div class="template-form-group">
                                <label
                                    for="templateIcon"
                                    data-i18n="templateIcon"
                                    >图标</label
                                >
                                <div class="template-icon-picker">
                                    <input
                                        type="text"
                                        id="templateIcon"
                                        value="📝"
                                        maxlength="2"
                                    />
                                    <div class="template-icon-suggestions">
                                        <span class="icon-option" data-icon="📝"
                                            >📝</span
                                        >
                                        <span class="icon-option" data-icon="📄"
                                            >📄</span
                                        >
                                        <span class="icon-option" data-icon="💻"
                                            >💻</span
                                        >
                                        <span class="icon-option" data-icon="📚"
                                            >📚</span
                                        >
                                        <span class="icon-option" data-icon="��"
                                            >🔗</span
                                        >
                                        <span class="icon-option" data-icon="📋"
                                            >📋</span
                                        >
                                        <span class="icon-option" data-icon="🏷️"
                                            >🏷️</span
                                        >
                                        <span class="icon-option" data-icon="⭐"
                                            >⭐</span
                                        >
                                    </div>
                                </div>
                            </div>

                            <!-- 模板内容 -->
                            <div class="template-form-group">
                                <label
                                    for="templateContent"
                                    data-i18n="templateContent"
                                    >模板内容</label
                                >
                                <div class="template-editor">
                                    <textarea
                                        id="templateContent"
                                        placeholder="输入模板内容，使用 {{字段名}} 格式插入变量..."
                                        rows="4"
                                    ></textarea>
                                    <div class="template-editor-toolbar">
                                        <span
                                            class="toolbar-label"
                                            data-i18n="insertField"
                                            >插入字段:</span
                                        >
                                        <div class="field-buttons">
                                            <button
                                                type="button"
                                                class="field-btn"
                                                data-field="url"
                                            >
                                                {{url}}
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn"
                                                data-field="title"
                                            >
                                                {{title}}
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn"
                                                data-field="hostname"
                                            >
                                                {{hostname}}
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn"
                                                data-field="date"
                                            >
                                                {{date}}
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn more-fields-btn"
                                                id="moreFieldsBtn"
                                            >
                                                更多字段 ▼
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- 更多字段面板 -->
                                <div
                                    class="more-fields-panel"
                                    id="moreFieldsPanel"
                                >
                                    <div class="field-category">
                                        <h4 data-i18n="basicFields">
                                            基础字段
                                        </h4>
                                        <div class="field-grid">
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="url"
                                            >
                                                <span class="field-name"
                                                    >{{url}}</span
                                                >
                                                <span class="field-desc"
                                                    >当前页面URL</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="originalUrl"
                                            >
                                                <span class="field-name"
                                                    >{{originalUrl}}</span
                                                >
                                                <span class="field-desc"
                                                    >原始URL</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="title"
                                            >
                                                <span class="field-name"
                                                    >{{title}}</span
                                                >
                                                <span class="field-desc"
                                                    >页面标题</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="hostname"
                                            >
                                                <span class="field-name"
                                                    >{{hostname}}</span
                                                >
                                                <span class="field-desc"
                                                    >域名</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="domain"
                                            >
                                                <span class="field-name"
                                                    >{{domain}}</span
                                                >
                                                <span class="field-desc"
                                                    >完整域名</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="shortUrl"
                                            >
                                                <span class="field-name"
                                                    >{{shortUrl}}</span
                                                >
                                                <span class="field-desc"
                                                    >短链接</span
                                                >
                                            </button>
                                        </div>
                                    </div>

                                    <div class="field-category">
                                        <h4 data-i18n="timeFields">时间字段</h4>
                                        <div class="field-grid">
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="date"
                                            >
                                                <span class="field-name"
                                                    >{{date}}</span
                                                >
                                                <span class="field-desc"
                                                    >当前日期</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="time"
                                            >
                                                <span class="field-name"
                                                    >{{time}}</span
                                                >
                                                <span class="field-desc"
                                                    >当前时间</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="datetime"
                                            >
                                                <span class="field-name"
                                                    >{{datetime}}</span
                                                >
                                                <span class="field-desc"
                                                    >日期时间</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="timestamp"
                                            >
                                                <span class="field-name"
                                                    >{{timestamp}}</span
                                                >
                                                <span class="field-desc"
                                                    >时间戳</span
                                                >
                                            </button>
                                            <button
                                                type="button"
                                                class="field-btn detailed"
                                                data-field="iso"
                                            >
                                                <span class="field-name"
                                                    >{{iso}}</span
                                                >
                                                <span class="field-desc"
                                                    >ISO时间</span
                                                >
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 预览 -->
                            <div class="template-form-group">
                                <label data-i18n="templatePreview">预览</label>
                                <div
                                    class="template-preview"
                                    id="templatePreview"
                                >
                                    <div class="preview-content">
                                        <span
                                            class="preview-placeholder"
                                            data-i18n="previewPlaceholder"
                                            >输入模板内容以查看预览</span
                                        >
                                    </div>
                                    <button
                                        type="button"
                                        class="preview-refresh-btn"
                                        id="previewRefreshBtn"
                                        data-i18n="refreshPreview"
                                    >
                                        刷新预览
                                    </button>
                                </div>
                            </div>

                            <!-- 验证信息 -->
                            <div
                                class="template-validation"
                                id="templateValidation"
                            ></div>
                        </div>

                        <div class="template-modal-footer">
                            <button
                                type="button"
                                class="template-btn template-btn-secondary"
                                id="templateCancelBtn"
                                data-i18n="cancel"
                            >
                                取消
                            </button>
                            <button
                                type="button"
                                class="template-btn template-btn-primary"
                                id="templateSaveBtn"
                                data-i18n="save"
                            >
                                保存
                            </button>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h2 data-i18n="supportSection">支持我们</h2>

                    <!-- 评价引导组件 -->
                    <div class="support-item rating-card">
                        <div class="support-icon">
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                            >
                                <path
                                    d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                                    fill="currentColor"
                                    stroke="currentColor"
                                    stroke-width="1"
                                />
                            </svg>
                        </div>
                        <div class="support-content">
                            <h3 data-i18n="ratingTitle">
                                喜欢 Arclet Copier？
                            </h3>
                            <p data-i18n="ratingDescription">
                                如果这个扩展对您有帮助，请在 Chrome
                                应用商店给我们一个好评！您的支持是我们前进的动力。
                            </p>
                            <button
                                class="support-btn rating-btn"
                                id="ratingBtn"
                                data-i18n="rateNow"
                            >
                                立即评价
                            </button>
                        </div>
                    </div>

                    <!-- 联系开发者组件 -->
                    <div class="support-item feedback-card">
                        <div class="support-icon">
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <path
                                    d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                                />
                                <polyline points="22,6 12,13 2,6" />
                            </svg>
                        </div>
                        <div class="support-content">
                            <h3 data-i18n="feedbackTitle">反馈建议</h3>
                            <p data-i18n="feedbackDescription">
                                遇到问题或有新功能建议？欢迎通过邮件联系我们，我们会认真回复每一封邮件。
                            </p>
                            <button
                                class="support-btn feedback-btn"
                                id="feedbackBtn"
                                data-i18n="contactDeveloper"
                            >
                                联系开发者
                            </button>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h2 data-i18n="aboutSection">关于</h2>

                    <div class="about-content">
                        <div class="about-item">
                            <span class="about-label" data-i18n="version"
                                >版本</span
                            >
                            <span class="about-value" id="aboutVersion"
                                >v1.3.5</span
                            >
                        </div>
                        <div class="about-item">
                            <span class="about-label" data-i18n="developer"
                                >开发者</span
                            >
                            <a
                                href="https://rokcso.com/"
                                target="_blank"
                                class="about-value developer-link"
                                >@rokcso (苏柯蕤)</a
                            >
                        </div>
                        <div class="about-links">
                            <a
                                href="https://arcletcopier.com/"
                                target="_blank"
                                class="about-link"
                                data-i18n="officialWebsite"
                            >
                                官方网站
                            </a>
                            <a
                                href="https://github.com/rokcso/arclet-copier"
                                target="_blank"
                                class="about-link"
                                data-i18n="githubRepo"
                            >
                                GitHub 仓库
                            </a>
                            <a
                                href="https://x.com/rokcso"
                                target="_blank"
                                class="about-link"
                                data-i18n="developerTwitter"
                            >
                                开发者 X
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 通知容器 -->
            <div class="notification" id="notification">
                <span class="notification-text"></span>
            </div>
        </div>

        <script type="module" src="options.js"></script>
    </body>
</html>
